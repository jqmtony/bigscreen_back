<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<#include "/frame/pageInclude.html">
<script type="text/javascript">
	$(document).ready(function() {
		grid = $('#tab').datagrid( {
			//title : '用户列表',			
			url :'${base}/system_advertisement/queryList',
			pagination : true,
			rownumbers : true,
			singleSelect : true,
			striped:true,
			fit:true,
			toolbar:'#toolbar',
			fitColumns:true,
			onDblClickRow:function(index,row){
				modifyRow(row);
			} 
		});
	});
	function formatStatus(val, row) {
		if (val == 1) {
			return '上线';
		} else {
			return '下线';
		}
	}
	function formatType(val, row) {
		if (val == 1) {
			return '视频类型';
		} else if(val == 2){
			return '图片类型';
		}else if(val == 3){
			return '文字类型';
		}
	}
	
	function openCheckBoxLookUp(url) {
		$("#device-lookUpSelect-window").dialogFrameWindow().dialogFrameHtml(url);
	}
	function openCheckBoxLookUpCallBack(row){
		$('#add_lookUpId,#edit_lookUpId').val(row.id);
		$('#add_lookUpCode,#edit_lookUpCode').val(row.code);
		$("#device-lookUpSelect-window").dialogFrameWindow().window('close');
	}
</script>
</head>
<body>
   <table class="easyui-datagrid" id="tab">
		<thead>
			<tr>
			    <th data-options="field:'source',width:80,formatter:formatSource">广告来源</th>
			    <th data-options="field:'cname',width:80">商铺名称</th>
			    <th data-options="field:'code',width:80">设备编码</th>
				<th data-options="field:'type',width:80,formatter:formatType">广告类型</th>
				<th data-options="field:'picPath',width:100">图片</th>
				<th data-options="field:'content',width:80">内容</th>
				<th data-options="field:'adIndex',width:100">广告位置</th>
				<th data-options="field:'remark',width:100">备注</th>
				<th data-options="field:'createTime',width:100,formatter:formatYYYYMMDD">创建日期</th>
				<th data-options="field:'status',formatter:formatStatus">状态</th>
			</tr>
		</thead>
	</table>
	
	<div id="toolbar" style="padding:2px 5px;">
		<form id="queryForm">
		           广告来源： <select id="source" name="source"  style="width:90px;">
		           		<option value="0" selected>--请选择--</option>
		           		<option value="1">自有</option>
	    				<option value="2">商家</option>
		           	</select>
		           广告类型： <select  id="type" name="type"  style="width:90px;">
		           		<option value="0" selected>--请选择--</option>
		           		<option value="1">视频</option>
	    				<option value="2">图片</option>
	    				<option value="3">文字内容</option>
		           </select>
			<a href="javascript:void(0);" onclick="query();" class="easyui-linkbutton" iconCls="icon-search">查询</a>
		</form>
		<a href="javascript:void(0);" onclick="add();" class="easyui-linkbutton" data-options="iconCls:'icon-add',toggle:true">添加</a>
		<a href="javascript:void(0);" onclick="modify();" class="easyui-linkbutton" data-options="iconCls:'icon-edit',toggle:true">修改</a>
		<a href="javascript:void(0);" onclick="removeModule();" class="easyui-linkbutton" data-options="iconCls:'icon-remove',toggle:true">删除</a>
	</div>
   <#include "./add.html">
   <#include "./update.html">
   <div id="lookUpSelect-window" title="选择商铺"></div>
   <div id="device-lookUpSelect-window" title="选择设备"></div>
</body>
</html>

